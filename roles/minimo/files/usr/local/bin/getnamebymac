#!/bin/bash

#LIVE=live-server-01
#if [ $HOSTNAME != $LIVE ]
#then
#echo "This is not the Live/Demo server"
#else
#echo "Server is Live/Demo"
#fi

ip=$(hostname -I)
#mac=$(ip -o link | grep "BROADCAST" | awk '{print $17}')
mac=$(ip -o link | grep "state UP" | awk '{print $17}')
hostname=${mac//:}
if grep -q $hostname /etc/hosts; then
  echo "already in hosts file"
  exit
fi
#Not in hosts file, so put it
hostnamectl set-hostname $hostname
echo "$ip $hostname" >> /etc/hosts
